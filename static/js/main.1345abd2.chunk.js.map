{"version":3,"sources":["redusers/reduser.js","redusers/index.js","store.js","components/shop-header/index.js","components/shop-header/shop-header.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/with-bookstore-service.js","utils/compose.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/book-list/book-list.js","components/book-list/index.js","actions/index.js","components/shopping-cart-table/index.js","components/shopping-cart-table/shopping-cart-table.js","components/pages/home-page.js","components/pages/cart-page.js","components/app/index.js","components/app/app.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","index.js","services/bookstore-service.js"],"names":["initState","books","reduser","state","action","type","payload","store","createStore","ShopHeader","numItems","total","class","href","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","compose","funcs","comp","reduceRight","wrappedFunc","nextFunc","BookListItem","book","title","author","price","cover","src","alt","BookList","data","this","getBooks","booksLoaded","map","key","id","Component","connect","newBooks","ShoppingCartTable","onClick","className","HomePage","CartPage","App","role","exact","path","component","from","to","ErrorIndicator","ErrorBoundry","hasError","setState","children","subscribe","console","log","getState","ReactDOM","render","value","document","querySelector"],"mappings":"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","file":"static/js/main.1345abd2.chunk.js","sourcesContent":["\r\nconst initState = {\r\n  books:[],\r\n}\r\n\r\nconst reduser = (state = initState, action) => {\r\n\r\n  switch (action.type) {\r\n    case 'BOOKS_LOADED':\r\n      return state = {\r\n        books: action.payload\r\n      };    \r\n      \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reduser;","import reduser from './reduser';\r\nexport default reduser;","import { createStore } from 'redux';\r\nimport reduser from './redusers';\r\n\r\nconst store = createStore(reduser);\r\n\r\nexport default store;","import ShopHeader from './shop-header';\r\nexport default ShopHeader;","import React from 'react';\r\n\r\nimport './shop-header.css';\r\n\r\nconst ShopHeader = ({ numItems, total }) => {\r\n  return (\r\n    <header class=\"shop-header row\">\r\n      <a class=\"logo text-dark\" href=\"#\">\r\n        ReStore\r\n      </a>\r\n      <a class=\"shopping-cart\" href=\"#\">\r\n        <i class=\"cart-icon fa fa-shopping-cart\" />\r\n        {numItems} item (${total})\r\n      </a>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default ShopHeader;","import React from 'react'\r\n\r\nconst {\r\n  Provider: BookstoreServiceProvider,\r\n  Consumer: BookstoreServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n  BookstoreServiceProvider,\r\n  BookstoreServiceConsumer\r\n}","import React from 'react';\r\n\r\nimport { BookstoreServiceConsumer } from '../bookstore-service-context';\r\n\r\nconst withBookstoreService = () => (Wrapped) => {\r\n\r\n  return (props) => {\r\n    return (\r\n      <BookstoreServiceConsumer>\r\n        {\r\n          (bookstoreService) => {\r\n            return <Wrapped {...props} bookstoreService={bookstoreService} />\r\n          }\r\n        }\r\n      </BookstoreServiceConsumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withBookstoreService;","const compose = (...funcs) => (comp) => {\r\n  return funcs.reduceRight(\r\n    (wrappedFunc, nextFunc) => nextFunc(wrappedFunc), comp\r\n  );\r\n}\r\n\r\nexport default compose;","import BookListItem from './book-list-item';\r\nexport default BookListItem;","import React, { Fragment } from 'react';\r\n\r\nimport './book-list-item.css';\r\n\r\nconst BookListItem = ({ book }) => {\r\n  const { title, author, price, cover } = book;\r\n  return (\r\n    <div class=\"book-list-item\">\r\n      <div class=\"book-cover\">\r\n        <img src={cover} alt=\"book cover image\"/>\r\n      </div>\r\n      <div class=\"book-details\">\r\n        <a href=\"#\" class=\"book-litle\">{title}</a>\r\n        <div class=\"book-author\">{author}</div>\r\n        <div class=\"book-price\">${price}</div>\r\n        <button class=\"add-to-cart btn btn-info\">Add to cart</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BookListItem;","//PACKAGES\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\n//COMPONENTS\r\nimport { booksLoaded } from '../../actions';\r\nimport { withBookstoreService } from '../hoc';\r\nimport { compose } from '../../utils';\r\n\r\nimport BookListItem from '../book-list-item';\r\n\r\n//STYLES\r\nimport './book-list.css';\r\n\r\nclass BookList extends Component {\r\n\r\n  componentDidMount() {\r\n    const { bookstoreService } = this.props;\r\n    const data = bookstoreService.getBooks();\r\n\r\n    this.props.booksLoaded(data);\r\n  }\r\n\r\n  render() {\r\n    const { books } = this.props;\r\n    return (\r\n      <ul class=\"book-list\">\r\n        {\r\n          books.map((book) => {\r\n            return (\r\n              <li key={book.id}><BookListItem book={book} /></li>\r\n            )\r\n          })\r\n        }\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    books: state.books\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withBookstoreService(),\r\n  connect(mapStateToProps, { booksLoaded }),\r\n)(BookList);\r\n\r\n/* export default withBookstoreService()(connect(mapStateToProps, { booksLoaded })(BookList)); */\r\n","import BookList from './book-list';\r\nexport default BookList;","const booksLoaded = (newBooks) => ({ \r\n  type: 'BOOKS_LOADED',\r\n  payload: newBooks\r\n});\r\n\r\n\r\nexport {\r\n  booksLoaded,\r\n}","import ShoppingCartTable from './shopping-cart-table';\r\nexport default ShoppingCartTable ;","import React from 'react';\r\n\r\nimport './shopping-cart-table.css';\r\n\r\nconst ShoppingCartTable = () => {\r\n  return (\r\n    <div class=\"shopping-cart-table\">\r\n      <h2>Your Order</h2>\r\n\r\n      <table class=\"table\">\r\n        <thead>\r\n          <td> #</td>\r\n          <th>Item</th>\r\n          <th>Count</th>\r\n          <th>Price</th>\r\n          <th>Action</th>\r\n        </thead>\r\n\r\n        <tbody>\r\n          <th>1</th>\r\n          <td>Site Reliability Engineering</td>\r\n          <td>2</td>\r\n          <td>$40</td>\r\n\r\n          <td>\r\n            <button\r\n              onClick={() => { }}\r\n              className=\"btn btn-outline-danger btn-sm float-right\">\r\n              <i className=\"fa fa-trash-o\" />\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => { }}\r\n              className=\"btn btn-outline-success btn-sm float-right\">\r\n              <i className=\"fa fa-plus-circle\" />\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => { }}\r\n              className=\"btn btn-outline-warning btn-sm float-right\">\r\n              <i className=\"fa fa-minus-circle\" />\r\n            </button>\r\n          </td>\r\n        </tbody>\r\n      </table>\r\n\r\n      <div className=\"total\">\r\n        Total: $201\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShoppingCartTable;","import React, { Fragment } from 'react';\r\n\r\nimport BookList from '../book-list';\r\nimport ShoppingCartTable from '../shopping-cart-table';\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <Fragment>\r\n      <BookList />\r\n      <ShoppingCartTable />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default HomePage;","import React from 'react';\r\n\r\nconst CartPage = () => {\r\n  return (\r\n    <h2>Cart</h2>\r\n  );\r\n}\r\n\r\nexport default CartPage;","import App from './app';\r\nexport default App;","import React from 'react';\r\nimport { Route, Redirect, Switch } from 'react-router-dom';\r\n\r\nimport ShopHeader from '../shop-header';\r\nimport { HomePage, CartPage } from '../pages';\r\n\r\nconst App = () => {\r\n  return (\r\n    <main role=\"main\" class=\"container\">\r\n      <ShopHeader numItems={2} total={243}/>\r\n      <Switch>\r\n        <Route exact path=\"/home\" component={HomePage} />\r\n        <Route path=\"/cart\" component={CartPage} />\r\n        <Redirect from=\"/\" to=\"/home\" />\r\n      </Switch>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default App;","import ErrorIndicator from './error-indicator';\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\n\r\nconst ErrorIndicator = () => {\r\n  return (\r\n    <div className=\"error-indicator\">\r\n      <h5 className=\"error-indicator__title\">Что то пошло не так...</h5>\r\n      <i className=\"error-indicator__icon fa fa-cloud-download\" />\r\n      <h6 className=\"error-indicator__subtitle\">Скоро мы все починим :)</h6>\r\n      <span className=\"error-indicator__text\">Попробуйте начать с главной страницы, или повторите запрос позже.</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ErrorIndicator;","import ErrorBoundry from './error-boundry';\r\nexport default ErrorBoundry;","import React from 'react';\r\n\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class ErrorBoundry extends React.Component {\r\n\r\n  state = {\r\n    hasError: false\r\n  }\r\n\r\n  componentDidCatch() {\r\n    this.setState({ hasError: true });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />\r\n    }\r\n    return this.props.children\r\n  }\r\n}","import { Provider } from 'react-redux';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport store from './store';\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry';\nimport BookstoreService from './services/bookstore-service';\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\n\nconst bookstoreService = new BookstoreService();\n\nstore.subscribe(() => {\n  console.log(store.getState());\n});\n\nconsole.log('Hello ReStore')\nconsole.log(store.getState());\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <BookstoreServiceProvider value={bookstoreService}>\n        <Router>\n          <App />\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoundry>\n  </Provider>,\n  document.querySelector('.root')\n);\n\n\n\n","export default class BookstoreService {\r\n\r\n  getBooks() {\r\n    return [\r\n      {\r\n        id: 1,\r\n        title: 'Production-Ready Microservices',\r\n        author: 'Susan J. Fowler',\r\n        price: 31.49,\r\n        cover: 'https://images-na.ssl-images-amazon.com/images/I/51oxXEG6TRL._SX379_BO1,204,203,200_.jpg',\r\n      },\r\n      {\r\n        id: 2,\r\n        title: 'Release It!',\r\n        author: 'Michael T. Nygard',\r\n        price: 30.21,\r\n        cover: 'https://images-na.ssl-images-amazon.com/images/I/419zAwJJH4L._SX415_BO1,204,203,200_.jpg',\r\n      },\r\n    ]\r\n  }  \r\n}"],"sourceRoot":""}